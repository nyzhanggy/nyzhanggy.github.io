---
title: Android 基础：项目配置
categories: [根深柢固]
---

### Gradle版本配置
在 `gradle-wrapper.properties` 中通过distributionUrl设置Gradle版本

```
# gradle/wrapper/gradle-wrapper.properties

distributionUrl=https\://services.gradle.org/distributions/gradle-8.1.1-all.zip
```

### AGP 版本配置
一般在根项目 `build.gradle.kts` 中设置， AGP版本依赖于Gradle版本，具体参考[这里](https://developer.android.com/build/releases/gradle-plugin?hl=zh-cn#updating-gradle)

```
buildscript {
    dependencies {
        classpath("com.android.tools.build:gradle:8.1.4") // 声明 AGP 版本
    }
}
```

需要注意`com.android.application`的版本，两者设置一个就行。更建议用这种，可以省略
`classpath` 配置。
```
plugins {
    id("com.android.application") version "8.6.1" apply false
}
```

`com.android.application` 用来指明该模块是个Android应用，可以使用Android应用相关的配置

以下是常见的插件标识符：
1. com.android.application
- 用于 Android 应用项目。
- 适用于标准的应用开发。
2.	com.android.library
- 用于 Android 库项目。
- 适合开发 Android 库或组件，并允许其他应用项目引入。
3.	com.android.dynamic-feature
- 用于 Android 动态特性模块（Dynamic Feature Module）。
- 主要用于 Android Instant Apps 和按需下载的动态模块项目。
4.	com.android.test
- 用于构建独立的测试项目。
- 适合创建测试应用来测试其他应用或模块。
5.	com.android.asset-pack
- 用于管理 Android 应用中的资源包（Asset Pack）。
- 适用于通过 Play Asset Delivery 按需加载的资源（如大型图形或媒体文件）。




### 仓库配置

在`settings.gradle.kts`中管理插件和依赖仓库

```
pluginManagement {
    repositories {
        google()
        mavenCentral()
    }
}

dependencyResolutionManagement {
    repositories {
        google()
        mavenCentral()
    }
}

```
dependencyResolutionManagement是不稳定的API,可以用传统方式在根项目 `build.gradle.kts` 中设置

```
allprojects {
    repositories {
        google()
        mavenCentral()
    }
}
```